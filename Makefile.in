# @configure_input@
#
#  Top level makefile for GNUstep GUI Library
#  Copyright (C) 1996 Free Software Foundation
#
#  Author: Scott Christley <scottc@net-community.com>
#

SHELL = /bin/sh

#### Start of system configuration section. ####

srcdir = @srcdir@
VPATH = @srcdir@

MAKEDEFINES =

oext = .o
libext = .a
exeext = 

#### End of system configuration section. ####

include $(srcdir)/Version

SUBDIRS = Source Testing Images

DIST_FILES = \
	Makefile.in configure config.guess \
	configure.bat Makefile.sed.nt \
	README ANNOUNCE NEWS INSTALL \
	COPYING.LIB COPYING ChangeLog

all: Source

%-subdirs:
	for i in $(SUBDIRS); do \
	  (cd $$i; $(MAKE) $(MAKEDEFINES) $*); \
	done

Source Documentation: FORCE
	cd $@; $(MAKE) $(MAKEDEFINES)

install uninstall TAGS: FORCE
	for i in $(SUBDIRS); do \
	  (cd $$i; $(MAKE) $(MAKEDEFINES) $@); \
	done

info dvi:
	cd Documentation ; $(MAKE) $(MAKEDEFINES) $@

Testing: Source
	cd $@; $(MAKE) $(MAKEDEFINES)

Makefile: Makefile.in config.status
	$(SHELL) config.status
config.status: configure
	$(SHELL) $(srcdir)/configure --no-create

mostlyclean-top:
	rm -f *~
	cd Headers ; cd gnustep ; cd gui ; rm -f *~
	cd Headers ; cd gnustep ; cd dps ; rm -f *~
clean-top: mostlyclean-top
distclean-top: clean-top
	rm -f Makefile config.status config.log config.cache TAGS
	cd Headers ; cd gnustep ; cd gui ; rm -f config.h
	cd Headers ; rm -rf AppKit ; rm -rf DPSClient

mostlyclean: mostlyclean-top mostlyclean-subdirs
clean: clean-top clean-subdirs
distclean: distclean-subdirs distclean-top

FORCE:
