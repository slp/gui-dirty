2001-12-21  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m
	Implemented dragFile:fromRect:slideBack:event:]. Moved code from
	[dragImage:...slideBack:] to NSWindow and call this.
	* Source/NSWindow.m
	New Implemantion of [dragImage:...slideBack:]. Replaced call to
	[NSGraphicContext _postExternalEvents:] with [NSDragInfo
	postDragEvent:]. 
	Replaced most [NSScreen mainScreen] with [self screen].
	* Headers/gnustep/gui/NSGraphicContext.h
	Removed method [_postExternalEvents:]. Added method [GSResolutionForScreen:].
	* Headers/gnustep/gui/NSGraphic.h
	* Headers/gnustep/gui/GSMethodTable.h
	Added GSResolutionForScreen.
	* Source/NSGraphicContext.m
	Implemented [GSResolutionForScreen:] with code from NSScreen.
	* Source/NSScreen.m
	[deviceDescription] call new function GSResolutionForScreen.
	
Wed Dec 19 17:55:25 2001  Nicola Pero  <nicola@brainstorm.co.uk>

	* Source/NSTextView.m ([NSTextView -moveToEndOfLine:]): Fixed typo
	in my last commit.

Tue Dec 18 22:13:31 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* Source/NSTextView.m ([-moveToEndOfLine:]): Fixed problems with
	empty lines by carefully checking for special cases.
	* Source/NSLayoutManager.m
	([-lineFragmentRectForGlyphAtIndex:effectiveRange:]): Fixed setting
	effective range.
	([-lineFragmentUsedRectForGlyphAtIndex:effectiveRange:]): Idem.
	([-textContainerForGlyphAtIndex:effectiveRange:]): Idem.
	
2001-12-19  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m
	[setMainMenu:] set the title of the main menu window, so
	the window manager can display it.We could do this also for all
	other menus, but those wont show up in the window manager.
	* Tools/gopen.m 
	Removed the redefinition of NSRunAlertPanel() as NSWOrkspace no
	longer uses this,

2001-12-18  Pierre-Yves Rivaille <pyrivail@ens-lyon.fr>

	* Source/NSWindow.m ([NSWindow -setTitleWithRepresentedFilename:]): 
	([NSWindow -setTitle:]): 
	([NSWindow -_initBackendWindow:]): 
	changed cString into lossyCString during DPStitlewindow calls
	* Source/NSBrowser.m:
	NSBrowserColumn: new methods initWithCoder & encodeWithCoder, it now 
	complies to NSCoding
	[NSBrowser -initWithCoder:] & [NSBrowser -encodeWithCoder:]: major
	update to previous implementation. It is now usable with Gorm and 
	should not generate memory leaks anymore.
	
Mon Dec 17 23:54:35 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* Source/NSInputManager.m: New class which loads key binding files
	and process keys basing on loaded key bindings.
	* Headers/gnustep/gui/NSInputManager.h: Updated.  Removed methods
	deprecated in apple doc - there is no point in trying to be
	compatible with internal deprecated methods of a foreign system.
	* Source/NSResponder.m ([-interpretKeyEvents:]): Pass the key
	events to the current input manager.
	([+initialize]): Added call to NSInputManager to have it init
	itself.
	* KeyBindings/: New directory.
	* KeyBindings/GNUmakefile: New file.
	* KeyBindings/DefaultKeyBindings.dict: New file.
	* Documentation/gsdoc/GNUmakefile (Gui_GSDOC_FILES): Added
	DefaultsSummary.gsdoc.
	* Documentation/gsdoc/DefaultsSummary.gsdoc: Documented 
	the GSDefaultKeyBindings and GSCustomKeyBindings options.
	* Documentation/gsdoc/DefaultsSummary.html: Regenerated.
	
2001-12-17  Pierre-Yves Rivaille  <pyrivail@ens-lyon.fr>

        * Source/NSButtonCell.m ([NSButtonCell -drawInteriorWithFrame:inView:])
	removed the code that drew the background (osx doesn't draw background)
	* Source/NSProgressIndicator.m ([NSProgressIndicator +initialize]): 
	retain the fillColour.

2001-12-17  Adam Fedor  <fedor@gnu.org>

	* Source/*m: Add basic markup for autogsdoc generation.
	(various locations): Remove semi-colon at end of method names.
	NSSliderCell.m, NSSlider.m, NSTableColumn.m, NSView.m, NSWindow.m:
	Add documentation formerly in gsdoc files to comments.

	* Headers/gnustep/gui/NSColorList.h, NSPageLayout.h,
	NSPrintInfo.h, NSPrintOperation.h, NSPrinter.h, NSView.h: Correct
	method types, remove unused markup.

	* Documentation/gsdoc/GNUmakefile: Add variables for autmatic
	document generatation via autgsdoc.
	* Documentation/gsdoc/*gsdoc, *html: Update.

Sat Dec 15 09:12:44 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	Patches from Ludovic Marcotte modified by myself.
	* Source/NSTextView.m ([-moveToBeginningOfDocument:]):
	Implemented.
	([-moveToBeginningOfLine:]): Idem.
	([-moveToEndOfDocument:]): Idem.
	([-moveToEndOfLine:]): Idem.
	([-moveWordBackward:]): Idem.
	([-moveWordForward:]): Idem.
	([-selectLine:]): Idem.
	
2001-12-12  Adam Fedor  <fedor@gnu.org>

	* Source/NSCursor: New cache dictionary.
	(-greenArrowCursor): New method.
	(-initWithImage:foregroundColorHint:backgroundColorHint:hotSpot:):
	Implement.

2001-12-09  Willem Rein Oudshoorn  <woudshoo@xs4all.nl>

	* Source/NSWindow.m (GSPerformVoidDragSelector): rewritten to not
	rely on category on NSObject
	(GSPerformDragSelector): rewritten to not rely on category on
	NSObject
	([NSWindow -sendEvent:]): fixed bug in handling of informal
	draggingDestination protocol

	* Headers/AppKit/NSWindow.h (NSCoding>): added instance variable
	_lastDragOperationMask

	* Source/GNUmakefile (libgnustep-gui_OBJC_FILES): Removed obsolete
	NSObjectProtocols.m file

Tue Dec 11 00:08:38 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* Source/NSCell.m ([-setStringValue:]): Use a NSDebugMLLog to warn
	for attempts to use nil value, not NSWarnLog, as suggested by Wim
	Oudshoorn <woudshoo@sct.com>.

2001-12-09  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m
	[NSIconWindow _initDefaults] set the title of the icon window, so
	the window manager can display it.
	
2001-12-07  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWorkspace.m
	[_workspaceApplication] renamed defaults key for Workspace
	application to GSWorkspaceApplication.
	* Documentation/gsdoc/DefaultsSummary.gsdoc
	Documented NSWorkspace defaults entry GSWorkspaceApplication
	and the new xgps defaults entry GSFontMask.
	
2001-12-07  Adam Fedor  <fedor@gnu.org>

	* Source/NSImage.m (-drawRepresentation:inRect:): Draw
	background even when alpha == 0.

	* Source/NSApplication.m (-sendEvent:): Simplify NSDebugLog.

	* Documentation/gsdoc/DefaultsSummary.gsdoc: Update
	* Documentation/gsdoc/Gui.gsdoc: Remove NSDPSContext.

2001-12-07  Pierre-Yves Rivaille  <pyrivail@ens-lyon.fr>

	* Headers/gnustep/gui/NSTableColumn.h: 
	* Source/NSTableColumn.m: changed the initWithIdentifier return 
	type from NSTableColumn* to id. It prevents warning when 
	subclassing and is consistent with the docs.
	* Headers/gnustep/gui/NSTableView.h: renamed ivar _del_editable to 
	_dataSource_editable. Previously the delegate was responsible for 
	tableView:setObjectValue:forTableColumn:row:, whereas it is now the 
	dataSource that is responsible for it (it conforms with the docs)
	* Source/NSTableView.m: [setDelegate:], [setDataSource:] and
	[validateEditing] changed to conform to previous change
	* Source/NSTableView.m (quick_sort_internal) : fixed typo
	
Wed Dec  5 11:04:14 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* Source/NSPrintInfo.m ([+initPrintInfoDefaults]): Commented out
	debugging log which wouldn't compile.

Wed Dec  5 10:55:13 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* Source/NSClipView.m ([-setBackgroundColor:]): If the color is
	changed, mark the clipview as needing redisplay.
	([-setDrawsBackground:]): If the flag is changed, mark the
	clipview as needing redisplay.
	* Source/NSText.m ([-setBackgroundColor:]): Mark the text as
	needing redisplay if the color is changed.  If we are not a field
	editor, change the background color of the enclosing scrollview
	too.
	([-setDrawsBackground:]): Mark the text as needing redisplay if
	the flag is changed.  If we are not a field editor, change the
	flag for the enclosing scrollview too.
	
2001-12-02  Adam Fedor  <fedor@gnu.org>

	* Model/GMAppKit.m ([NSMenuItem -initWithModelUnarchiver:]): Check
	if target is a menu.

	* Source/NSCursor.m: Make class variables for arrow and ibeam
	cursor. 

2001-11-30  Willem Rein Oudshoorn  <woudshoo@xs4all.nl>

	* Source/NSCursor.m (backgroundColorHint:): added FIXME comment

	* Images/GNUmakefile (IMAGE_FILES): added DnD cursors

	* Headers/gnustep/gui/NSBitmapImageRep.h (NSImageRep): removed
	unused instance variable

2001-12-03  Laurent Julliard  <laurent@moldus.org>

	* Source/NSTableHeaderView.m (-initWithCoder:, decodeWithCoder:): 
	minimal decoding/encoding methods

2001-12-02  Gregory Casamento <greg_casamento@yahoo.com>
	* Source/NSTableView.m
	-[NSTableView superviewFrameChanged:] Added a check to prevent
	exception when column count is reduced to zero.  This change is 
	consistent with behaviour observed on OPENSTEP4.2/Mach.

2001-12-02  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWorkspace.m
	[findApplications] use hardcoded @GNUSTEP_INSTALL_PREFIX only for
	non-GNUstep foundation library.
	* Source/NSPasteboard.m
	[_pbs] use hardcoded @GNUSTEP_INSTALL_PREFIX only for
	non-GNUstep foundation library.
	* Source/NSImage.m
	[initialize] and [imageNamed:] use hardcoded
	@GNUSTEP_INSTALL_LIBDIR only for non-GNUstep foundation library.
	* Source/NSPrintInfo.m
	[initPrintInfoDefaults] use hardcoded @GNUSTEP_INSTALL_LIBDIR only
	for non-GNUstep foundation library. 
	
Sun Dec  2 08:54:36 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* Source/NSAttributedString.m ([NSMutableAttributedString
	-fixParagraphStyleAttributeInRange:]): Fixes, particularly for
	case in which a style is not found at the beginning of paragraph.
	(Bug reported by Ludovic Marcotte <ludovic@Sophos.ca>).

2001-12-02  Gregory Casamento <greg_casamento@yahoo.com>

	* Tools/gopen.m 
	Modified to eliminate the output of "No application for extension 
	'app'"  when launching an application using gopen.  The code now 
	checks to see if an app  is being launched first, then, if not, 
	attempts to open the file.   It's also slightly more efficient to 
	check for an app first before calling -[NSWorkspace openFile:].

2001-12-01  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWorkspace.m
	Moved all private methods into seperate category. New method
	[_connectApplication:], use this in [openFile:...] and
	[launchApplication:...]. Implemented [openTempFile:].
	New method [_workspaceApplication] used to implement
	[performFileOperation:...] and [selectFile:inFileViewerRootedAtPath:].
	* Source/NSApplication.m
	[finishLaunching] and [terminate:] send workspace notification
	with the shared workspace as object.
	
Sat Dec  1 10:10:58 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* GNUmakefile.postamble (gui.make): Depend on configure.
	(config.make): Idem.

Sat Dec  1 09:33:39 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* GNUmakefile.postamble (after-distclean): Remove gui.make as
	well.  
	(gui.make): New target.
	(config.make): New target.
	(configure): New target.
	
Sat Dec  1 09:13:26 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* Headers/gnustep/gui/NSButtonCell.h (NSGradientType): Fixed typo
	(Bug fix by Jay McCarthy <jay@kenyamountain.com>).

Fri Nov 30 12:58:45 2001  Nicola Pero  <nicola@brainstorm.co.uk>

	* Source/NSCell.m ([-setStringValue:]): Use NSWarnMLog to warn for
	nil string values rather than raising an exception (Suggestion by
	richard).

2001-11-28  Adam Fedor  <fedor@gnu.org>

	* Source/GSServicesManager.m (-rebuildServices): Use userLanguages
	method rather than getting NSLanguages default.

	* Documentation/gsdoc/DefaultsSummary.gsdoc: New file.
	* Documentation/gsdoc/Gui.gsdoc: Include it.

2001-11-27  Adam Fedor  <fedor@gnu.org>

	* Source/NSClipView.m: Treat _documentView as a convienience
	ivar. Don't release/retain or encode it.
	(-initWithCoder:): Get _documentView from subview array.
	* Source/NSTabView.m (-encodeWithCoder:): Conditionally encode
	delegate.
	(-initWithCoder:): Don't retain delegate.

2001-11-26  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/gnustep/gui/NSWindow.h
	Added some new MacOSX methods and ivars to support them.
	Changed order of methods.
	* Source/NSWindow.m
	Implemented new methods.
	* Headers/gnustep/gui/NSWindowController.h
	Added some new MacOSX methods.
	* Headers/gnustep/gui/NSDocumentFrameworkPrivate.h
	Removed methods now public.
	* Source/NSWindowController.m
	Implemented new methods and renamed some old which are now public.
	* Source/NSDocument.m
	Adopted to name changes of NSWindowController methods.
	* Headers/gnustep/gui/NSNibLoading.h
	New extension method [pathForNibResource:].
	* Source/NSBundleAdditions.m
	Extracted new method [pathForNibResource:] for NSWindowController.
	* Headers/gnustep/gui/NSWorkspace.h
	Added some new MacOSX methods. Changed order of methods. Made
	ivars out of some class variables.
	* Source/NSWorkspace.m
	A lot of cleanup. Implemented the new methods. [openFile:XXX] no
	longer show alert panels, as this should be done by the caller.
	[launchApplication:XXX] now checks if the application is already running.
	
2001-11-25  Gregory John Casamento <greg_casamento@yahoo.com>

	* Tools/gopen.m made some enhancements to make the gopen tool
	behave more like the "open" tool under OPENSTEP/MOSX.
	
2001-11-24  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/gnustep/gui/NSTextView.h
	Added protocol NSTextInput to NSTextView. Added some new MacOSX
	methods. 
	* Source/NSTextView.m
	Corrected memory management in rulerview methods. Implemented
	update ruler. Dummy implementation for new spell checking
	methods. Implementation of new drag methods, use these in the
	dragging protocol methods. Moved the NSTextInput methods into the
	main category. Implemented some of them.
	* Source/NSLayoutManager.m
	Implemented [rulerMarkersForTextView:...ruler:].
	* Headers/gnustep/gui/NSPasteboard.h
	Added extension methods for NSURL.
	* Source/NSPasteboard.m 
	Implemented extension methods for NSURL.
	* Headers/gnustep/gui/NSView.h
 	Added some new MacOSX methods. Changed order of methods.
	* Source/NSView.m
	Implemented those new methods. Call new methods from the subview
	handling methods.
	
2001-11-23  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/gnustep/gui/NSTableView.h
	* Source/NSTableView.m
	Added some additional MacOSX methods.
	* Headers/gnustep/gui/NSTextField.h
	* Source/NSTextField.m
	Added and implemented some methods for the handling of richt text.
	* Source/extern.m
	Added notifications from NSTextStorage
	* Headers/gnustep/gui/NSTextStorage.h
	* Source/NSTextStorage.m
	Added some new methods that allow for lazy fixing of attributes in
	subclasses. 
	* Source/NSTextView.m
	Added code to rulerview delegate methods.
	
Thu Nov 22 00:58:12 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* GNUmakefile (CVS_MODULE_NAME): Define.

2001-11-21  Laurent Julliard <laurent@julliard-online.org>

	* Source/NSBrowser.m (-initWithCoder:): colCount and _firstVisible
	Column must always be decoded. Bug fixed (thanks to Adam Fedor)

2001-11-20  Laurent Julliard <laurent@julliard-online.org>

	* Source/NSComboBoxCell.m (-setNumberOfVisibleItems): max number
	of items tested on wrong variable. Corrected

2001-11-19  Adam Fedor  <fedor@gnu.org>

	* Headers/gnustep/gui/NSGraphicsContext.h: Add usedFonts ivar.
	New methods for caching used fonts.
	* Source/NSGraphicsContect.m (-useFont): Moved from NSFont.
	(-resetUsedFonts, -usedFonts): Likewise.
	* Source/NSFont.m (+useFont:): Use them.
	* Source/NSView.m (-endDocument): Likewise.
	
	* Model/GMArchiver.m (-decodeSelectorWithName:): Use correct 0 value.

2001-11-18  Gregory John Casamento <greg_casamento@yahoo.com>

	* Tools/gopen.m: added a tool which works like the OPENSTEP 4.2/Mach 
	"open" command to the tools directory.
	
2001-11-15  Laurent Julliard <laurent@julliard-online.org>
	
	* Source/NSBrowser.m: NSBrowser encoder and decoder added

2001-11-12  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSFontManager.m
	Reorganised the handling of the font enumerator. New
	[_includeFont:] is only called from here. Corrected
	[availableMembersOfFontFamily:] and [fontNamed:hasTraits:].
	* Headers/gnustep/gui/GSFontInfo.h: 
	Adopted GSFontEnumerator to changes on NSFontManager.
	* Source/GSFontInfo.m: 
	Changed GSFontEnumerator so that only [enumerateFontsAndFamilies]
	must be subclassed.
	
2001-11-11  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTabView.m
	In [selectTabViewItem:] corrected setting the first responder of
	the tab view. 
	
2001-11-09  Adam Fedor  <fedor@gnu.org>

	* Source/NSView.m (-addSubview:): Raise exception on adding nil
	subview or superview of view.
	(-addSubview:positioned:relativeTo:): Likewise.
	(-beginDocument): Change NSLog to exception.

Thu Nov  8 23:30:47 2001  Nicola Pero  <n.pero@mi.flashnet.it>

	* Source/NSMatrix.m ([-sizeToFit]): Reverted last change.
	* Source/NSBrowser.m ([-_performLoadOfColumn:]): Do not call
	sizeToFit on the matrix, just set the cellSize to the result of
	calling -cellSize on the first browsercell in the matrix.
	
2001-11-08  Adam Fedor  <fedor@gnu.org>

	* Simple printing/pagination implementation
	* Headers/gnustep/gui/NSGraphicsContext.h: Add some constants
	* Source/NSFont.m (+useFont:): Same font name in static NSSet
	(+resetUsedFonts): Implement
	(+usedFonts): Likewise.
	* Source/NSGraphicsContext.m (+defaultContextWithInfo:) Depreciated,
	calls +graphicsContextWithAttributes:.
	(+graphicsContextWithAttributes:): Creates default context class.
	(+useFont:): Removed.
	* Source/NSPrintInfo.m (-setOrienatation:) Set paper size accordingly.
	(-setPaperName:): Likewise.
	(-setPaperSize:): Set orientation.
	(+initPrintInfoDefaults): Rewrite.
	* Source/NSPrintOperation.m (-_setupPrintInfo): New private.
	(-_printPaginateWithInfo:knowsRange:): Likewise.
	(-_rectForPage:info:): Likewise.
	(-_adjustPagesFirst:last:info:): Likewise.
	(-_print): Rewrite for pagination, printing.
	([NSView -_displayPageInRect:atPlacement:withInfo:]): New private.
	([NSView -_endSheet): Likewise.
	* Source/NSPrintPanel.m: Fix layout settings.
	* Source/NSView.m (-printJobTitle): Implement.
	(-locationOfPrintRect:, beginPage:label:bBox:fonts:,
	 beginPageSetupRect:placement:, beginPrologueBBox:..., beginSetup,
	beginTrailer, endHeaderComments, endPrologue, endSetup, endPage, 
	endTrailer, beginDocument, beginPageInRect:atPlacement:, endDocument):
	Likewise.

2001-11-08  Laurent Julliard <laurent@julliard-online.org>

	* Headers/gnustep/gui/NSGraphics.h
	* Source/Functions.m
	* Source/NSImageCell.m:
	NSDrawFramePhoto added. Needed by the ImageView inspector in Gorm

2001-11-06  Pierre-Yves Rivaille <pyrivail@ens-lyon.fr>

	* Source/NSTableView.m ([-sizeToFit]): replaced floorf with floor
	suggestion from Stephen Brandon <stephen@brandonitconsulting.co.uk>

2001-11-03  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m
	In [performActionForItemAtIndex:] select the item of the popup
	before sending the action. 
	* Headers/gnustep/gui/NSSplitView.h
	Removed unused ivar _splitCursor. Added some MacOSX methods. Moved
	extension methods to separate category.
	* Source/NSSplitView.m
	Adopted to changes in header. Dummy implementation of new
	methods. Changed incudes. In [mouseDown:] also check for new delegate
	methods. [_adjustSubviews:] now takes the old size as an argument
	to hand it on to delegate. Changed all places that call
	this. En-/decode the image instead of the cursor.
	* Headers/gnustep/gui/NSTabView.h
	Renamed all ivars and added some new MacOSX methods. Added two new
	unsupported NSTabViewType values.
	* Source/NSTabView.m
	Adopted to changes in header. Use [insertTabViewItem:atIndex:] in
	[addTabViewItem:]. Corrected [selectNextTabViewItem:] and
	[selectPreviousTabViewItem:]. In [selectTabViewItem:] set the
	first responder of the tab view. Other small cleanup.
	
2001-11-03  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/gnustep/gui/NSSpellChecker.h
	Added [guessesForWord:].
	* Source/NSSpellChecker.m
	Implement [guessesForWord:] and use it in
	[browser:createRowsForColumn:inMatrix:]. Don't create the server
	in [init], but check it before each use. Check if ther server
	proxy exists before all method calls that return a NSRange.
	In [checkSpellingOfString:...wordCount:] don't call
	[updateSpellingPanelWithMisspelledWord:]. Beep in this method,
	when the string is empty. [_findNext:], [_ignore:] and [_correct:]
	now use [[NSApp sendAction:to:from:] instead of explicit responder.
	* Source/NSTextView.m
	Adopted implemtantion of [checkSpelling:] to changes in
	NSSpellChecker. [updateSpellingPanelWithMisspelledWord:] is now
	called from here.
	
