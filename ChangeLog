2005-09-10  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Check for libgib if libungif is not found.
	Fixes Bug #14454.

2005-08-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSView.m: ([_viewDidMoveToWindow]) Implemented and used to
	send notification to subviews as we should.

2005-08-22 14:36 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSInterfaceStyle.m: -[GSInterfaceStyle
	defaultsDidChange:] correction for val variable.  Previously
	this was the enumerated type NSInterfaceStyle.  This caused
	some alighnment issues on 64bit platforms.  I have also tested
	this change on i386/Linux.

2005-08-17  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Check for v19 of portaudio.

2005-08-17  Enrico Sersale  <enrico@dtedu.net>

	* Tools/gsnd/gsnd.m: updated to use libportaudio v19.

	* Tools/gsnd/gsnd.m: in main(): uses NSTask to create a daemon.
	
2005-08-17  Serg Stoyan  <stoyan255@ukr.net>

	* Source/NSBrowser.m: (tile): Fix calculating columns width for
	unseparated columns.
	
	* Source/NSSplitView.m: (mouseDown:): Don't try to resize subviews
	if divider positon wasn't changed.
	
	* Source/NSPopUpButtonCell.m: (trackMouse:inRect:ofView:untilMouseUp:):
	Dismiss the popup after mouse tracking done. This is for the cases when 
	mouse up event occurs outside of popup.
	
2005-07-27  Adam Fedor  <fedor@gnu.org>

	* Source/GNUmakefile.postamble (Info-gnustep.plist): Depend on 
	../Version.

	* Source/NSOutlineView.m ([NSOutlineView -rowForItem:]): Declare var
	at beginning of block for gcc2 (Fixes Bug #13936).

2005-07-25 22:28 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSOutlineView.m: Make [NSOutlineView rowForItem:] return
	-1 as per specs, instead of NSNotFound.

2005-07-22  Adam Fedor  <fedor@gnu.org>

	* Version 0.10.0

2005-07-21 08:33 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibTemplates.m: in GSWindowTemplate initWithCoder:, 
	temporarily retain, then release (after setting back into the window)
	the content view to prevent it from being inadvertantly deallocated.

2005-07-17  Adam Fedor  <fedor@gnu.org>

	* Source/NSApplication.m (gnustep_backend_path,
	gnustep_backend_framework, gnustep_backend_bundle): New functions.
	(initialize_gnustep_backend): Support versioning of backend bundle.

2005-07-17  Adam Fedor  <fedor@gnu.org>

	* Documentation/Gui.gsdoc, Documentation/GuiAdditions.gsdoc
	Documentation/ReleaseNotes.gsdoc, Documentation/readme.texi
	Documentation/GuiUser/DefaultsSummary.gsdoc
	Documentation/GuiUser/KeyboardSetup.gsdoc
	Documentation/GuiUser/LanguageSetup.gsdoc, Source/NSView.m:
	Fix some documentation errors.

2005-07-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: (_NSAppKitUncaughtExceptionHandler)
	As there was no other feedback to the recent email thread on this,
	I've removed the option to try to 'ignore' the exception ... since
	it would most likely result in a random crash (possibly with loss
	of data etc) at a later point.

2005-07-09 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSSavePanel.m (-ok:): Set _fullFileName before invoking
	delegate -panel:userEnteredFilename:confirmed: so it is given the
	current filename to process.

2005-07-09  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSGraphicsContext.h,
	* Source/NSGraphicsContext.m: Added new methods
	[-GScomposite:toPoint:fromRect:operation:fraction:] and
	[-GSSetPatterColor:].  
	* Source/NSImage.m (-compositeToPoint:...fraction:): Implemented.
	* Source/NSColor.m (GSPatternColor -set): Implemented.

2005-07-04  Adam Fedor  <fedor@gnu.org>

	* Documentation/ReleaseNotes.gsdoc: Update.

2005-07-01  Adam Fedor  <fedor@gnu.org>

	* Documentation/Gui.gsdoc, 
	Documentation/GuiAdditions.gsdoc, 
	Documentation/ReleaseNotes.gsdoc, 
	Documentation/gopen.1, Documentation/make_services.1, 
	Documentation/General/OpenStepCompliance.gsdoc, 
	Documentation/GuiUser/DefaultsSummary.gsdoc, 
	Documentation/GuiUser/KeyboardSetup.gsdoc, 
	Documentation/GuiUser/LanguageSetup.gsdoc, 
	Model/Controller.h, Model/Controller.m, Model/test.m, 
	PrinterTypes/GSProlog.ps,
	Printing/GSCUPS/GNUmakefile.postamble, 
	Printing/GSCUPS/GNUmakefile.preamble, 
	Printing/GSLPR/GNUmakefile.postamble, 
	Printing/GSLPR/GNUmakefile.preamble, 
	Tools/GNUmakefile.postamble, 
	Tools/GNUmakefile.preamble, Tools/wgetopt.h, 
	Tools/gsnd/GNUmakefile.postamble, 
	Tools/gsnd/GNUmakefile.preamble: Add/fix copyright/licenses.

2005-07-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: (_NSAppKitUncaughtExceptionHandler)
	Call [NSApp run] to re-enter runloop if we are told to ignore
	the exception.  Not sure this is right though ... probably
	the option to ign ore should be removed.

2005-06-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScrollView.m: ([-initWithFrame:) create a hidden horizontal
	ruler for MacOS-X and OPENSTEP compatibility.  Fix bug #13310
	* Source/NSRulerView.m: ([-dealloc]) Don't release _clientView as we
	don't own it.  Fixes bug #13382

2005-06-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (-setGeometry): Use [NSWindow
	setFrameFromString:] when possible to position the menu windows
	relative to the screen size.
	(-isPartlyOffScreen_OFFSCREEN, -setGeometry, -shiftOnScreen) Use
	current screen and visibleFrame of screen instead of frame. 

2005-06-18  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m (+colorFromString:): Make sure the scanner is
	always released. Fixes bug reported by Benhur Stein
	<benhur.stein@gmail.com>.

2005-06-17  Adam Fedor  <fedor@gnu.org>

	* Source/NSPopUpButtonCell.m (-setObjectValue:): Use
	respondsToSelector.

2005-06-16  Fabien Vallon  <fabien@sonappart.net>

	* Source/NSProgressIndicator.m: setAnimationDelay: fix typo
	* Headers/AppKit/NSProgressIndicator: ditto

2005-06-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: ([-mountedLocalVovumePaths]) implemented
	for mingw as a listing of all device names.
	Implement for unix using getmntent.
	* configure.ac: add checks for getmntent variations.
	Tested on debian, may need tweaks for others.

2005-06-06 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Headers/AppKit/NSApplication.h
	* Headers/AppKit/NSEvent.h
	* Source/GSServicesManager.m
	* Source/NSApplication.m
	* Source/NSFont.m: Filled in various GSdoc.

2005-06-04 08:11 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibTemplates.h: Minor update to
	constant name.
	* Source/GSNibTemplates.m: Use new constant name, and move call
	to autoPositionWindow: outside of class name check.

2005-06-04 07:36 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibTemplates.h: Constants for new
	autoposition scheme, declaration for setAutoPositionMask:,
	autoPositionMask and autoPositionWindow: methods.
	* Source/GSNibTemplates.m: Code in [GSWindowTemplate initWithCoder:]
	to handle new version.  Also new method autoPositionWindow: to 
	handle window placement.

2005-05-30  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopupButtonCell.m (-dealloc) Corrected previous fix to only
	dismiss the popup, when it is actualy visible. This caused a
	problem with the window deallocation mechanism, when the window
	containing the popup button was closed.

2005-05-30  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-mouseDown): No longer copy the cell, as
	this was causing trouble in GNUmail and Gworkspace.
	* Source/NSComboBox.m (-trackMouse:inRect:ofView:untilMouseUp:): 
	Only mark the cellframe as needing redraw.
	Patch by Matt Rice <ratmice@yahoo.com>.

2005-05-27  Adam Fedor  <fedor@gnu.org>

	* Source/NSAffineTransform.m (matrix_multiply): New function.
	(appendTransform:, prependTransform:, rotateByRadians:, 
	scaleBy:, scaleXBy:yBy:, translateXBy:yBy:, 
	concatenateWithMatrix:): Use it.
	(rotateByDegrees:) Use rotateByRadians:.  Fixes bug #13181.

2005-05-27  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopupButtonCell.m (-dealloc) Dismiss the popup. This is to
	make sure the removed popup no longer gets notifications. may
	happen when the cell gets deallocated without closing the popup.

2005-05-26  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-mouseDown): Replaced use of
	_sendsActionOn: with a check if the value did change
	after the cell did track the mouse. Also use a copy of the cell,
	that way other cells are not affected by changes in the tracked
	cell. Patch based on code by Matt Rice <ratmice@yahoo.com>.

2005-05-25  Adam Fedor  <fedor@gnu.org>

	* Update FSF Address.

2005-05-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAlert.m (-_setupPanel): New method. 
	(-runModal, -beginSheetModalForWindow:...contextInfo:) Use this
	new method.

2005-05-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-display) 
	* Source/NSCell.m (-drawWithFrame:inView:) 
	* Source/NSBrowserCell.m (-drawWithFrame:inView:) 
	* Source/NSImageCell.m (-drawWithFrame:inView:) 
	* Source/NSMenuItemCell.m (-drawWithFrame:inView:) 
	* Source/NSTableHeaderCell.m (-drawWithFrame:inView:):
	Removed check for window existence. This should already have been
	checked by a surrounding canDraw call. Fixes bug #13140.

2005-05-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSComboBox.m (-cellSize) Added simple implementation of
	this method to get sizeToFit working.
	(GSComboWindow -layoutWithComboBoxCell:) Don't subtract the width
	of the scroller from the popup item size, increase the popup width instead.

2005-05-20  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-center, -constrainFrameRect:toScreen:) Use
	screen visibleFrame instead of frame.
	* Source/NSWindow.m (-animationResizeTime:,
	-setFrame:display:animate:) Implemented this methods.

2005-05-20  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSResponder.h: Added new MacOSX methods.
	* Source/NSResponder.m (-encodeWithCoder:, initWithCoder:) Handle
	NSNextResponder for keyed encoding.
	* Source/NSResponder.m
	* Source/NSApplication.m
	* Source/NSWindow.m
	* Source/NSView.m
	* Source/NSControl.m:
	Implemented shouldBeTreatedAsInkEvent:.
	
2005-05-19  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImageCell.m (-setObjectValue:) Nil parameter now unsets
	image. This resolves bug #13046.

2005-05-02 23:45 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibTemplates.m: added condition to all of the templates
	so that the designated init is not called when the className and
	the superClass are equivalent.
	
2005-05-01 17:09 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/GSNibTemplates.m: [GSWindowTemplate initWithCoder:]
	changed so designated initializer is called with content frame.
	
2005-04-30 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Headers/AppKit/NSFont.h: Add 'cachedFlippedFont' ivar.
	* Source/NSFont.m: Cache font for drawing in flipped views in
	manner analogous to font for screen drawing.

2005-04-28  Adam Fedor  <fedor@gnu.org>

	* configure.ac: More complete check for portaudio
	* Tools/gsnd/gsnd.m: Fix portaudio include

2005-04-27 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Headers/AppKit/NSApplication.h: Add app_is_launched ivar.
	* Source/NSApplication.m (-run): Only go through launch process
	and call -finishLaunching on first call.
	(-replyToApplicationShouldTerminate:) Unhide mouse on app exit.

2005-04-25  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Check for lib portaudio
	* Tools/gsnd/GNUmakefile: Use lib portaudo.
	* Tools/gsnd/portaudio: Remove portaudio files.
	* Documentation/install.texi: Updates.

2005-04-25 00:02 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibTemplates.m: [GSClassSwapper initWithObject:
	className:superClassName:] removed assertion which prevents
	using the same class name for both arguments.  Also cleaned
	up some commented out code.

2005-04-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopupButton.m (-keyDown:) Removed unneeded code.
	(-_handleNotification:): Moved method from here ...
	* Source/NSPopupButtonCell.m: ... to here.
	(-dismissPopUp, -attachPopUpWithFrame:inView:): Dis-/Connect self,
	not the control view, with notification centre. Fixes bug #12680.
	(-synchronizeTitleAndSelectedItem): Update the control view.
	(-trackMouse:inRect:ofView:untilMouseUp:): Removed unneeded code.
	(-attachPopUpWithFrame:inView:): Set the selected item to highlighted.
	
2005-04-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m: Implemented the missing keyed encoding methods.

2005-04-11 10:24 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibTemplates.m: Correction for minor leak in 
	GSClassSwapper dealloc method.

2005-04-09  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m: Implemented most keyed encoding methods.
	* Source/NSFont.m: Implemented simple keyed encoding.

2005-04-08  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-addSubview:positioned:relativeTo:): Don't
	increase index for subview added at the end. Based on patch by
	Matthias Hengartner <hengartner@ivt.baug.ethz.ch>.

2005-04-03 14:53 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSCustomImageRep.m: Allow drawing if the delegate is
	set since the size may not have been set as of yet.  This behavior
	is consistent with that observed on OPENSTEP4.2/Mach.  This fix
	corrects bug #12412.

2005-04-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/AppKit/NSTextView.h: Keep track of whether we are acting
	as a target for a DnD operation, and what the selected range was
	before the operation began.
	* Source/NSTextView.m: Display insertion point during DnD operation
	Fixes bug #9788

2005-04-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTableView.m: ([-mouseDown:]) tweak vertical image
	offset because view is flipped.  Still not sure this code is
	correct  ... which coordinate system is the image offset supplied
	by ([-dragImageForRows:event:dragImageOffset:]) supposed to be in?

2005-04-01  Adam Fedor  <fedor@gnu.org>

	* Headers/AppKit/NSDataLinkManager.h, Source/NSDataLinkManager.m:
	Re-add the changes from 2005-03-05.

2005-04-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSDragView.m: when dragging, use the mouse offset to adjust
	the initial position of the dragged image.
	Modified internally to pass the original position of the image so
	that slideback can slide to that position rather than the position
	the mouse started from.  This makes no difference if the initial
	mouse offset was zero, but does have an effect if the drag was
	initiated by a mouse move at a location offset from the original
	mouse down.
	Exposed a couple of methods for subclasses.
	* Source/NSColorPanel.m: Set image position for DnD so that color
	swatch is centered on the mouse position.
	* Source/NSImageView.m: ditto
	* Source/NSTableView.m: ([-mouseDown:]) after calling the
	([-dragImageForRows:event:dragImageOffset:]) method, use the
	returned offset to position the center of the image relative
	to the mouse pointer .. I *think* that's what the apple documentation
	of the method means.

2005-03-30  Adam Fedor  <fedor@gnu.org>

	* Version 0.9.5

	* Headers/AppKit/NSDataLinkManager.h, Source/NSDataLinkManager.m: 
	Partially revert 2005-03-05 patch for this release.

2005-03-29 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSWorkspace.m (-_extIconForApp:info:): Check filename is
	not empty string before passing to [NSBunder -pathForImageResource:].

2005-03-29 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSGraphicsContext.m: Undeprecate DPSxshow, DPSyshow,
	DPSxyshow, DPSashow, DPSwidthshow, and DPSawidthshow.

2005-03-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSDragView.m:
	* Headers/Additions/GNUstepGUI/GSDragView.h: Minor tweaks to ease
	subclassing.

2005-03-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSDragView.m: Fix a few bugs exposed by windows port and
	tidy/add comments to clarify operation.  When initiating DnD session,
	take offset argument into account rather than ignoring it.
	* Headers/Additions/GNUstepGUI/GSDragView.h: Improve comments and
	change offset to be NSSize rather thgan NSPoint.

2005-03-21  Adam Fedor  <fedor@gnu.org>

	* Tools/gsnd/portaudio/pa_unix_oss/pa_unix_oss.c: Fix for FreeBSD
	FTBFS (Fixes Bug #12316). Strip DOS CRs.

2005-03-21  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Check for libgif
	* Source/NSBitmapImageRep+GIF.m: Support libgif
	* Source/NSBitmapImageRem.m: Idem. (Fixes Bug #12362).

2005-03-19  Adam Fedor  <fedor@gnu.org>

	* Headers/AppKit/DPSOperators.h, Headers/AppKit/NSGraphics.h:
	Modify selectors to play nice with C++ compiler.	
	* Headers/AppKit/NSAffineTransform.h, Headers/AppKit/NSFontManager.h,
	Headers/AppKit/NSPageLayout.h: Modify arg name for same purpose.
	* Source/NSAffineTransform.m, Source/NSFontManager.m,
	Source/NSPageLayout.m: Modify to match header. (Patch from 
	Francis Franklin, with some modifications).

2005-03-14  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMatrix.m:
	([_renewRows:columns:rowSpace:colSpace:]) Corrected last patch so
	that the open panel works again. Initialize all new cells, not
	just the requested ones.

2005-03-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMatrix.m:
	([removeRow:]) set column counts to zero if all rows are removed
	([removeColumn:]) set row counts to zero if all columns are removed
	([_renewRows:columns:rowSpace:colSpace:]) initialise all columns of
	any newly created rows (up to _maxCols) rather than just the number
	specified by the method argument.  Otherwise we get uninitialised
	columns in the matrix which will cause a crash when they are used.
	Fixes bug #12299

2005-03-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/AppKit/NSGraphics.h: Fix prototype for stricter compiler.
	* Source/Functions.m: ditto
	Deal with bug #12296

2005-03-10  Nicola Pero <n.pero@mi.flashnet.it>

	* Headers/AppKit/AppKitDefines.h (GS_EXPORT): Use extern, not
	__declspec(dllexport), on mingw
	
2005-03-10  Nicola Pero <n.pero@mi.flashnet.it>

	* configure.ac: Fixed setting variable when libjpeg can't be found.
	* configure: Regenereated.

2005-03-07  Fred Kiefer <FredKiefer@gmx.de>

	* Header/AppKit/NSCell.h: Moved NSControlSize definition to ...
	* Header/AppKit/NSColor.h: ... here and added
	NSMiniControlSize. For NSControlTint added NSBlueControlTint and
	NSGraphiteControlTint.
	* Header/AppKit/NSFont.h (+menuBarFontOfSize:,
	+systemFontSizeForControlSize:, -numberOfGlyphs,
	-coveredCharacterSet, -fontDescriptor): New MacOSX 10.3 methods.
	* Source/NSFont.m: Added dummy implementations for the new methods. 

2005-03-05 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSApplication.m (-_windowDidResignKey:) Unhide mouse.

2005-03-05 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSScroller.m (-checkSpaceForParts, -rectForPart:) Calculate
	buttonsWidth variable dynamically based on +scrollerWidth (supports
	width override by subclass).

2005-03-05 10:53 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSDataLink.h
	* Headers/AppKit/NSDataLinkManager.h: Added some ivars
	* Source/Functions.m: Changed the NSLinkFrameThickness() function to
	return 1 instead of 1.5.
	* Source/NSDataLink.m: Implemented several methods.
	* Source/NSDataLinkManager.m: Implemented several methods.
	* Source/NSDataLinkPanel.m: Change version from 1 to 0.
	* Source/NSSelection.m: Change version from 1 to 0, corrected 
	but in initWithCoder:.

2005-03-03  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Disable gsnd on darwin
	
	* Tools/GNUmakefile.preamble (GSspell_TOOL_LIBS): Add lib depends.

2005-02-27 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSApplication.m (-runModalForWindow:) Clarify gsdoc
	explaining why we don't follow Apple docs here.  (Corrects gsdoc
	from change on 2005-01-26, which itself documented a code change on
	2005-01-18.)

2005-02-26 18:04  Alexander Malmberg  <alexander@malmberg.org>

	* Headers/Additions/GNUstepGUI/GSServicesManager.h: Include the
	NSMenuItem.h header instead of forward declaring the NSMenuItem
	protocol.

2005-02-23  Fred Kiefer <FredKiefer@gmx.de>

	* Header/AppKit/NSColor.h (-alternateSelectedControlColor,
	-alternateSelectedControlTextColor,
	-secondarySelectedControlColor,
	controlAlternatingRowBackgroundColors): New MacOSX system colour methods.
	* Source/NSColor.m (-alternateSelectedControlColor,
	-alternateSelectedControlTextColor,
	-secondarySelectedControlColor,
	controlAlternatingRowBackgroundColors): Implemented the new
	methods.
	(initSystemColors): Added default values for new system coloure methods

2005-02-21  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-initWithCoder):
	* Source/NSButtonCell.m (-initWithCoder):
	* Source/NSBrowser.m (-initWithCoder):
	Small improvements on keyed decoding of flags.

2005-02-19  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSavePanel.m (-_setDefaultDirectory): New method to get
	default directory from user defaults (NSDefaultOpenDirectory).
	(-_resetDefaults): Use it for setting of default directory.
	(-_setupForDirectory:file:): Use the new method here as well if no
	path is provided. Cleaned up this method.
	(-cancel:) Don't clean up filename and set directory to current.
	(-ok:) Don't set _OKButtonPressed.
	* Source/NSOpenPanel.m (-ok:): Don't set _OKButtonPressed.
	(-_setupForDirectory:file:): Removed code duplicating super class
	implementation. 
	This fixes most of bug #7900.

2005-02-14  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopupButton.m (-mouseDown:): Moved code from here ...
	* Source/NSPopupButtonCell.m
	(-trackMouse:inRect:ofView:untilMouseUp:): ... to here. This fixes
	bug #9824.

2005-02-14  Richard Frith-Macdoanld <rfm@gnu.org>

	* Source/GSTitleView.m (-mouseDown:): Post an
	NSWindowDidMoveNotification at end of method if window was dragged.
	Fixes bug #11906

2005-02-12  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSDisplayServer.h (-setalpha::): Declare.
	* Source/GSDisplayServer.m (-setalpha::): New method for window
	alpha setting, with empty default implementation.
	* Source/NSWindow.m (-setAlphaValue:): Implemented alpha setting
	via display server.
	(-_initDefaults): Set _alphaValue to 1.0.

2005-02-12  Fred Kiefer <FredKiefer@gmx.de>

	* Model/GMAppKit.m (NSButtonCell-initWithModelUnarchiver:):
	Resorted code to work around AppKit change on button type
	handling. Patch by Georg Fleischmann <georg@vhf.de>	

2005-02-12  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAffineTransform.m (-boundingRectFor:result:): Further
	corrections on last change.

2005-02-11  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAffineTransform.m (-boundingRectFor:result:):
	Corrected algorithm to compute bounding box for transformed
	rectangle (Code based on Cairo). This fixes bug #11562.

2005-02-08  Matt Rice  <ratmice@yahoo.com>

	* Source/NSApplication.m (-changeWindowsItem:title:filename:): If the
	window can become key, use makeKeyAndOrderFront: as the action.
	(-updateWindowsItem:, -setWindowsMenu): Compare the title to what it
	would be if there was a represented filename, not the filename.
	* Source/NSApplication.m (-orderWindow:relativeTo:): Ditto.
	(-setExcludedFromWindowsMenu): Ditto.

2005-02-08  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSecureTextField.m (-drawInteriorWithFrame:inView:):
	Draw the background colour of the cell.
	
2005-02-07  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-expandItem:expandChildren:,
	collapseItem:collapseChildren:): Added a call to setNeedsDisplay:,
	so the new status will be shown correctly.
	(_openItem:): Removed setNeedsDisplay: call as all callers do it already.

2005-02-05 15:42 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSDataLinkManager.h: Moved NSDataLinkManager delegate
	methods to an informal protocol NSDataLinkManagerDelegate.
	* Source/Functions.m: Implemented NSFrameLinkRect() to draw the frames
	around source and destination links.
	* Source/NSBundleAdditions.m: Modified -description method in 
	NSNibConnector to display the source, destination and label for the
	connection.  This makes it easier to debug.
	* Source/NSDataLink.m: Implemented a few private methods.
	* Source/NSDataLinkManager.m: Implemented -breakAllLinks.

2005-02-03 10:54  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSImage.m (min, max): Rename to ...
	(gs_min, gs_max): ... this. Update callers.

2005-01-28 21:58 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSColorWell.m: [NSColorWell mouseDown:] prevent use
	of the colorwell when it's disabled.

2005-01-28 17:57  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:): If our
	view is flipped, flip the image.

2005-01-26 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSApplication.m (-beginModalSessionforWindow:): Center
	panels only if they are not already up, matching OS X Panther;
	document.
	(-runModalForWindow:, -runModalSession:): Clarify documentation.

2005-01-25 01:05  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:): Use
	-drawInRect:fromRect:operation:fraction: to draw the image.

2005-01-25 00:29  Alexander Malmberg  <alexander@malmberg.org>

	* Headers/AppKit/NSImage.h (-drawAtPoint:fromRect:fraction:)
	(-drawInRect:fromRect:operation:fraction:): Document.
	* Source/NSImage.m -drawAtPoint:fromRect:fraction:)
	(-drawInRect:fromRect:operation:fraction:): Implement.
	(min, max): New functions.
	(-drawRepresentation:inRect:): Save the gstate before drawing
	and restore it afterwards.

	Fixes bug #11712.

2005-01-24 16:57  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSPopUpButtonCell.m (-synchronizeTitleAndSelectedItem): For
	non-pulldowns, make sure the selected item and the highlighted item
	are the same.

2005-01-24  Quentin Mathe  <qmathe@club-internet.fr>

	* Source/GSToolbarView.m (initSystemExtensionsColors()): Removed 
	spurious 'else' (introduced with revision 1.11) which prevented toolbar 
	colors loading code to be executed (Fix the white toolbar background bug
	reported by Riccardo Mottola).

2005-01-24 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSSavePanel.m (-_shouldShowExtension:isDir:,
	-setRequiredFileType:, -requiredFileType, -filename): For filename
	display filtering, handle case where _requiredFileType is unset or
	set to nil or "" by allowing any extension (including none), as
	specified in Apple docs, instead of allowing no extensions, as it
	was.  Document.

2005-01-24 00:48  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:): Draw
	the image using the right size, but don't scale it. Work around
	bug #11712.

2005-01-22 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSFontManager.m (-fontWithFamily:traits:weight:size:)
	Corrected logic in fallback approximate trait search for weight 5 or 6
	(regular) fonts. Font w/approximate traits but originally-requested
	weight will now be found.
	
2005-01-21 21:43  Alexander Malmberg  <alexander@malmberg.org>

	Various whitespace cleanups, comment type fixes, and changes
	to avoid warnings from recent versions of gcc.

	* Headers/Additions/GNUstepGUI/GSToolbar.h (-_toolbars): Declare.
	* Source/NSWindow+Toolbar.m: Remove conflicting declaration of
	[NSToolbar -_toolbars].

	* Headers/Additions/GNUstepGUI/GSServicesManager.h,
 	Source/GSServicesMananger.m (-item2title:, -validateMenuItem:):
	Adjust argument types.
	* Headers/AppKit/NSMenu.h (-validateMenuItem:): Adjust argument
	type.

	* Source/NSTextView.m (-sizeToFit): Don't use size uninitialized
	if neither resizable flags is set.
	(-insertText:): Adjust argument type.
	* Headers/AppKit/NSResponder.h, Source/NSResponder.m (-insertText:):
	Adjust argument type. Document.

	* Headers/AppKit/NSView.h: Change type of ivar _window to NSWindow *.

	* Source/GSTitleView.m (-mouseDown:): Always initialize
	startWindowOrigin.
	* Source/NSApplication.m (-setApplicationIconImage:): Add casts
	to avoid warnings.
	* Source/NSCell.m (-cellSize): Add default: case.
	* Source/NSPasteboard.m
	([GSFiltered -pasteboard:provideDataForType:]): Detect and warn if we
	can't find a filter that will get us the desired type.
	* Source/NSProgressIndicator.m: Comment out unused variable 'images'.
	* Source/NSBezierPath.m: Declare GSBezierPath fully before using it.
	(-bezierPathByFlatteningPath, -bezierPathByReversingPath): Make sure
	variables are always initialized.

	* Source/NSMenuView.m,
	* Source/NSPrintOperation.m,
	* Source/NSSplitView.m,
	* Source/NSTableHeaderView.m: Make sure variables are always
	initialized.

	* Source/NSBox.m,
	* Source/NSImageview.m,
	* Source/NSText.m,
	* Source/NSTextStorage.m: Add missing includes.

	* Source/GSKeyBindingTable.m,
	* Source/GSLayoutManager.m,
	* Source/NSBitmapImageRep+PNM.m,
	* Source/NSBundleAdditions.m,
	* Source/NSLayoutManager.m,
	* Source/nsimage-tiff.h,
	* Source/tiff.m,
	* Headers/Additions/GNUstepGUI/GSDisplayServer.h,
	* Source/GSDisplayServer.m: Change signedness of various variables.

	* Source/NSPanel.m (-sendEvent:): Remove.
	* Source/NSWindow.m (-becomesKeyOnlyIfNeeded): New method.
	(-_sendEvent:becomesKeyOnlyIfNeeded:): Remove. Move code ...
	(-sendEvent:): ... here. Use -becomesKeyOnlyIfNeeded instead
	of the argument.

2005-01-21  Quentin Mathe  <qmathe@club-internet.fr>

	* Source/GSToolbarView.m:
	* Headers/Additions/GNUstepGUI/GSToolbarView.h:
	Renamed the NSColor(Extensions) category with the more descriptive name 
	NSColor(GSToolbarViewAdditions). This modification permits GNUMail 
	compilation with recent Darwin linker versions which prevented it 
	because GNUMail has a NSColor category identically named "Extensions".

2005-01-20  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-rowAtPoint:): If the heigh of the table
	is incorrect and because of this the row would be greater than the
	number of rows, return a usable number.

2005-01-18 17:06  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSWindow.m
	(-initWithContentRect:styleMask:backing:defer:screen:): Assert that
	the shared application instance has been created instead of just
	calling NSLog. Make the message clearer.

2005-01-18 16:53  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSCell.m (-setUpFieldEditorAttributes:): Clear the
	text object's string.
	* Source/NSControl.m (-setDoubleValue:, -setFloatValue:)
	(-setIntValue:, -setStringValue:, -setObjectValue:): If the receiver
	was being edited when the method was called, make it the first
	responder after changing the value.
	(-abortEditing): Don't clear the text object's string.
	* Source/NSMatrix.m (-abortEditing): Don't clear the text object's
	string.
	* Source/NSTableView.m (-abortEditing): Ditto.
	* Source/NSTextField.m (-abortEditing): Ditto.

2005-01-18 16:39  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSBitmapImageRep.m
	(-TIFFRepresentationUsingCompression:factor:): Don't use pointer
	comparisons to compare strings. Handle both device and calibrated
	colorspaces. Warn if the colorspace isn't recognized.

2005-01-18 15:50  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSApplication.m (-runModalSession:): Don't order the window
	to the front or make it the key/main window.

2005-01-18 15:46  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSApplication.m (-finishLaunching): Don't attempt to open
	an untitled file if we were autolaunched.

2005-01-18 14:16  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSAffineTransform.m (pi): Correct the rounding.

2005-01-18  Matt Rice <ratmice@yahoo.com>

        * Source/NSTextView.m (setSelectedRange:): Do not make the selected
	text visible.
        (-didChangeText,-checkSpelling:): Make the selected text visible.
        * Source/NSTextView_actions.m (_moveTo:select:): Ditto.
        * Source/NSCell.m (-setUpFieldEditorAttributes:): Ditto.
        (-selectWithFrame:inView:editor:delegate:start:length:): Ditto.
        * Source/NSComboBoxCell (-validateSelection:,-textDidChange:): Ditto.

2005-01-18 14:09  Alexander Malmberg  <alexander@malmberg.org>

	* Source/Functions.m (NSDottedFrameRect, NSFrameRectWithWidth): Draw
	the frame inside the given rectangle.
	(NSDrawTiledRects): Remove documentation.
	* Headers/AppKit/NSGraphics.h (NSDottedFrameRect, NSFrameRect)
	(NSFrameRectWithWidth, NSDrawTiledRects): Add new documentation.

2005-01-17 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSWindow.m (-sendEvent:becomesKeyOnlyIfNeeded:): Give
	mouseDragged events to _lastView rather than view (if exists)
	underneath mouse.

2005-01-17 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSApplication.m
	(-nextEventMatchingMask:untilDate:inMode:dequeue:): Check that
	event is not 'null_event' before using it to unhide mouse.

2005-01-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBrowserCell.m (-setType:): New method, does nothing to
	allow image and text at once (MacOSX 10.2 behaviour).
	(-drawInteriorWithFrame:inView:): Draw an image or alternate image,
	if provided and draw the text as well.
	
2005-01-16  Fred Kiefer <FredKiefer@gmx.de>

	* Images/common_ClosedHandCursor.tiff: Replaced by new image files by
	Fabien Vallon <fabien@sonappart.net>.

2005-01-16  Fred Kiefer <FredKiefer@gmx.de>

	* TextConverters/RTF/RTFProducer.m (-_stringWithRTFCharacters:):
	Output "\uc0" so that other applications know we don't write ANSI
	representations of Unicode characters.

2005-01-16  Fred Kiefer <FredKiefer@gmx.de>

	* Printing/GSCUPS/GSCUPSPrinter.m (+printerNames): Add dummy
	printer to list, if no printers are found.

2005-01-16 06:39 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: In validateMenuItem: added code to 
	properly set the undo/redo title and disable the menus when
	appropriate.

2005-01-15 05:59 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: Added undo:/redo: here.  Smarter use
	of the responder chain.
	* Source/NSWindow.m: Removed undo:/redo: here.

2005-01-14 16:11  Alexander Malmberg <alexander@malmberg.org>

	* Headers/AppKit/NSSavePanel.h (-panel:shouldShowFilename:):
	Document.
	* Source/NSSavePanel.m (-setDelegate:): Call -validateVisibleColumns.
	Whitespace cleanups.
	(-browser:isColumnValid:): Give the delegate the complete path to
	each file.

	Fixes bug #10553.

2005-01-14 09:25 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: Minor change.  The init method now sets the
	flag to YES so that when a undoManager is needed, it's instantiated.

2005-01-14 05:50 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: corrected undoManager call in NSDocument.

2005-01-13  Adam Fedor  <fedor@gnu.org>

	* Source/GNUmakefile.preamble: Extend FILTER_OUT flag to
	all sparc architectures.

2005-01-12 16:40  Alexander Malmberg <alexander@malmberg.org>

	* Headers/AppKit/NSBezierPath.h (-windingCountAtPoint:): Mark as
	a GNUstep extension.

2005-01-12 00:47  Alexander Malmberg <alexander@malmberg.org>

	* Source/GSStandardWindowDecorationView.m (-initWithFrame:window:):
	Create a paragraph style with line-breaking-by-clipping and use it
	for window titles.

2005-01-12 00:41  Alexander Malmberg <alexander@malmberg.org>

	* Printing/GSCUPS/GSCUPSPrinter.h (GSCUPSDummyPrinterName): New
	variable.
	* Printing/GSCUPS/GSCUPSPrinter.m (GSCUPSDummyPrinterName): New
	variable.
	(+printerWithName:): Warn and return a dummy printer when requested.
	* Printing/GSCUPS/GSCUPSPrintInfo.m (defaultPrinter): If there's
	no default CUPS printer set, return a dummy printer.

	Fixes bug #10916.

2005-01-11 23:50  Alexander Malmberg <alexander@malmberg.org>

	* Headers/AppKit/NSBezierPath.h (NSWindingRule)
 	(-containsPoint): Document.
	(-windingCountAtPoint:): New method.
	* Source/NSBezierPath.m: Remove some trailing whitespace.
	(PI): Correct rounding.
	(contribution, -contributionToContains:): Remove.
	(winding_line, winding_curve): New functions.
	(-windingCountAtPoint:): New method.
	(-containsPoint:): Use -windingCountAtPoint: instead of
	-contributionToContains:. Don't flatten the path.

2005-01-09  Matt Rice  <ratmice@yahoo.com>
	
	* Source/NSTableHeaderCell.m (-drawInteriorWithFrame:inView:): Use
	the correct background/highlight colors and NSCompositeSourceOver for
	image cells. 
	(-setHighlighted): Use controlHighlightColor instead of controlColor.

